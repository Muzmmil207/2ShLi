{% extends 'beas.html' %}
{% block title %}2ShLi | All Links{% endblock %}

{% block contener %}
<section style="width: 100%; height: 100vh;">
  {% if user.is_authenticated %}
  
  <br>
  <!-- <form class="form-inline my-2 my-lg-0">
    <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
    <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
  </form>
   -->
  <h1>ALL YOUR LINKS</h1>
  {% for x in object_list %}
  {% if user.id == x.user.id %}
  <div class="container bg-white" style="padding-top: 25px; border: 3px rgb(217, 211, 241) solid; border-radius: 5px;  box-shadow: 0 5px 25px rgba(1 1 1 /15%);">
  
    <div class="">
      <small>your short link:</small>
      <input type="text" class="form-control" value="http://shli2.herokuapp/{{x.short_url}}">
      <h6><br><button type="button" class="btn btn-dark"><a class="nav-link"
            href="http://shli2.herokuapp/{{x.short_url}}">Follow</a></button></h6>
      <a href="{{ x.long_url }}"><small>{{ x.long_url }}</small></a>
    </div>
    <br>
    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
      QR-code <svg xmlns="http://www.w3.org/2000/svg" style="padding-left: 5px; width: 20px;" width="16" height="16"
        fill="currentColor" class="bi bi-qr-code" viewBox="0 0 16 16">
        <path d="M2 2h2v2H2V2Z" />
        <path d="M6 0v6H0V0h6ZM5 1H1v4h4V1ZM4 12H2v2h2v-2Z" />
        <path d="M6 10v6H0v-6h6Zm-5 1v4h4v-4H1Zm11-9h2v2h-2V2Z" />
        <path
          d="M10 0v6h6V0h-6Zm5 1v4h-4V1h4ZM8 1V0h1v2H8v2H7V1h1Zm0 5V4h1v2H8ZM6 8V7h1V6h1v2h1V7h5v1h-4v1H7V8H6Zm0 0v1H2V8H1v1H0V7h3v1h3Zm10 1h-1V7h1v2Zm-1 0h-1v2h2v-1h-1V9Zm-4 0h2v1h-1v1h-1V9Zm2 3v-1h-1v1h-1v1H9v1h3v-2h1Zm0 0h3v1h-2v1h-1v-2Zm-4-1v1h1v-2H7v1h2Z" />
        <path d="M7 12h1v3h4v1H7v-4Zm9 2v2h-3v-1h2v-1h1Z" />
      </svg>
    </button>
  
    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">The link in QR-code</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="qr-img" style="display: flex; justify-content: center;">
              <div class="card" style="width: 18rem;">
                <img src="{{x.qr_code.url}}" class="card-img-top">
                <div class="card-body">
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <a href="{{x.qr_code.url}}" class="btn btn-primary" download=""><svg xmlns="http://www.w3.org/2000/svg"
                style="width: 24px; padding-right:5px;" width="16" height="16" fill="currentColor" class="bi bi-download"
                viewBox="0 0 16 16">
                <path
                  d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z" />
                <path
                  d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z" />
              </svg>Download PNG</a>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
  
          </div>
        </div>
      </div>
    </div>
  
    <br><br>
    <hr>
    <a class="nav-link" href="{% url 'LinkView' x.pk%}">More details</a>
  </div>
  <br>
  {% endif %}
  {% endfor %}
  {% else %}
  <h5>PLease <a href="{% url 'login' %}">Login</a> TO Access</h1>
  {% endif %}
</section>
{% endblock %}